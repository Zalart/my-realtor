(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{258:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(13),r=a.n(s),o=a(90),c=a(16),l=a(321),d=a(116),j=a.n(d),m=a(29),h=a(12),b=a(68),p=a(303),u=a(335),g=a(337),x=a.p+"static/media/logo-gray.4c4be47f.svg",O=a.p+"static/media/logo-main.98ed23f7.svg",f=a(338),y=a(313),v=a(307),N=a(309),C=a(315),w=a(308),k=a(316),T=a(99),S=a.n(T),I=a(100),A=a.n(I),W=a(101),D=a.n(W),L=a(96),P=a.n(L),F=a(59),z=a(306),M=a(336),E=a(314),U=a(15),H=a.n(U),B=a(1),q=Object(p.a)((function(e){return{backgroundPoster:{backgroundImage:"url(https://source.unsplash.com/collection/38873046/1600x1200)",backgroundPosition:"center center",backgroundSize:"cover",margin:0,padding:0,border:0,position:"relative",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",minHeight:"100vh"},contentWrapper:{paddingTop:e.spacing(6),flex:"1 0 auto",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"},footerWrapper:{maxMidth:1280,alignItems:"flex-start"},footerColWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},paper:{display:"flex",textAlign:"center",backgroundColor:"rgba(255, 255, 255, .9)",borderRadius:e.spacing(1)},avatar:{margin:e.spacing(1,3),backgroundColor:e.palette.secondary.main},formContainer:{padding:e.spacing(6,0,0,0)},formAlign:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",margin:e.spacing(0),padding:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red",fontSize:"1rem",marginTop:10,textAlign:"center"},footer:{backgroundColor:"#42444e",flex:"0 0 auto",marginTop:e.spacing(3),padding:e.spacing(4,2)},secondaryMain:{color:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.light},secondaryDark:{color:e.palette.secondary.dark},primaryMain:{color:e.palette.primary.main},primaryLight:{color:e.palette.primary.light},primaryDark:{color:e.palette.primary.dark},contrastText:{color:"#FFF"},lightText:{color:"#888"},lightItalicText:{color:"#888",fontStyle:"italic"},progress:{position:"absolute"},customHoverFocus:{"&:hover, &.Mui-focusVisible":{backgroundColor:"rgba(255, 255, 255, .2)"},margin:e.spacing(0,1)}}})),R={email:"",password:"",errors:[],loading:!1},G=Object(g.a)()((function(e){var t=Object(n.useState)(R),a=Object(b.a)(t,2),i=a[0],s=a[1],r=Object(c.f)(),o=q(),l=(e.width,function(e){s(Object(h.a)(Object(h.a)({},i),{},Object(m.a)({},e.target.name,e.target.value)))}),d=i.errors,j=i.loading;return Object(B.jsxs)("div",{className:o.backgroundPoster,children:[Object(B.jsx)(M.a,{className:o.contentWrapper,children:Object(B.jsxs)(z.a,{component:"main",maxWidth:"md",children:[Object(B.jsx)(v.a,{}),Object(B.jsxs)("div",{className:o.paper,children:[Object(B.jsx)(u.a,{smDown:!0,children:Object(B.jsx)(z.a,{minWidth:"sm",maxWidth:"sm",className:o.primaryMain,children:Object(B.jsxs)(w.a,{item:!0,xs:!0,children:[Object(B.jsx)(M.a,{component:"img",width:300,src:O,mt:6,alt:"My realtor"}),Object(B.jsx)(M.a,{py:2,children:Object(B.jsx)(F.a,{component:"h2",variant:"h4",color:"primary",style:{fontWeight:600},children:"Save, store, distribute"})}),Object(B.jsx)(M.a,{pt:4,children:Object(B.jsx)(F.a,{component:"h2",variant:"h5",className:o.lightItalicText,children:"A no-fuss listing integration solution"})})]})})}),Object(B.jsx)(z.a,{maxWidth:"xs",className:o.formContainer,children:Object(B.jsxs)(w.a,{item:!0,xs:!0,className:o.formAlign,children:[Object(B.jsx)(u.a,{smDown:!0,children:Object(B.jsx)(f.a,{className:o.avatar,children:Object(B.jsx)(P.a,{})})}),Object(B.jsx)(u.a,{mdUp:!0,children:Object(B.jsx)(M.a,{component:"img",src:O,height:70,width:130})}),Object(B.jsx)(F.a,{component:"h1",variant:"h5",children:"Login"}),Object(B.jsxs)("form",{className:o.form,noValidate:!0,children:[d.general&&Object(B.jsx)(F.a,{variant:"body2",className:o.customError,children:d.general}),Object(B.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",type:"email",autoFocus:!0,helperText:d.email,error:!!d.email,onChange:l}),Object(B.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:d.password,error:!!d.password,onChange:l}),Object(B.jsxs)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,onClick:function(e){e.preventDefault(),s(Object(h.a)(Object(h.a)({},i),{},{loading:!0}));var t={email:i.email,password:i.password};H.a.post("/api/login",t).then((function(e){localStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),s(Object(h.a)(Object(h.a)({},i),{},{loading:!1})),r.push("/")})).catch((function(e){s(Object(h.a)(Object(h.a)({},i),{},{errors:e.response.data,loading:!1}))}))},disabled:j||!i.email||i.password.length<6,children:["Sign In",j&&Object(B.jsx)(E.a,{size:30,className:o.progress})]}),Object(B.jsx)(w.a,{container:!0,children:Object(B.jsx)(w.a,{item:!0,children:Object(B.jsx)(C.a,{href:"signup",variant:"body2",children:"Don't have an account? Sign up"})})})]})]})})]})]})}),Object(B.jsx)(M.a,{width:"100%",children:Object(B.jsx)(M.a,{className:o.footer,children:Object(B.jsx)(z.a,{children:Object(B.jsxs)(w.a,{container:!0,spacing:1,className:o.footerWrapper,children:[Object(B.jsxs)(w.a,{item:!0,xs:12,md:4,lg:4,className:o.footerColWrapper,children:[Object(B.jsx)(M.a,{component:"img",width:120,src:x,alt:"My realtor"}),Object(B.jsx)(F.a,{variant:"body2",className:o.contrastText,children:"\xa9 My realtor, Belarus"})]}),Object(B.jsxs)(w.a,{item:!0,xs:12,md:4,lg:4,className:o.footerColWrapper,children:[Object(B.jsx)(F.a,{variant:"body2",className:o.contrastText,children:"Created with \u2764\ufe0f In Belarus"}),"  ",Object(B.jsx)(F.a,{variant:"body2",className:o.contrastText,children:"for \xa9 WildCodeSchool Demo Day"}),Object(B.jsxs)(M.a,{className:o.lightText,py:1,children:[Object(B.jsx)(k.a,{color:"primary",className:o.customHoverFocus,"aria-label":"Github",children:Object(B.jsx)(S.a,{onClick:function(e){return window.location.href="https://github.com/Zalart/my-realtor"}})}),Object(B.jsx)(k.a,{color:"primary",className:o.customHoverFocus,"aria-label":"LinkedIn",children:Object(B.jsx)(A.a,{onClick:function(e){return window.location.href="https://www.linkedin.com/in/zalart/"}})}),Object(B.jsx)(k.a,{color:"primary",className:o.customHoverFocus,"aria-label":"Facebook",children:Object(B.jsx)(D.a,{onClick:function(e){return window.location.href="https://www.facebook.com/profile.php?id=100003622561803"}})})]})]}),Object(B.jsxs)(w.a,{item:!0,xs:12,md:4,lg:4,className:o.footerColWrapper,children:[Object(B.jsx)(M.a,{className:o.lightText,children:"Collaborated by:"}),Object(B.jsx)(M.a,{p:1,className:o.contrastText,children:"Artur Zalewski"}),Object(B.jsx)(M.a,{className:o.contrastText,children:"Aliaksei Fokin"})]})]})})})})]})})),V=Object(p.a)((function(e){return{backgroundPoster:{backgroundImage:"url(https://source.unsplash.com/collection/38873046/1600x1200)",backgroundPosition:"center center",backgroundSize:"cover",margin:0,padding:0,border:0,position:"relative",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",minHeight:"100vh"},contentWrapper:{paddingTop:e.spacing(6),flex:"1 0 auto",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"},footerWrapper:{maxMidth:1280,alignItems:"flex-start"},footerColWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},paper:{display:"flex",textAlign:"center",backgroundColor:"rgba(255, 255, 255, .9)",borderRadius:e.spacing(1)},avatar:{margin:e.spacing(1,3),backgroundColor:e.palette.secondary.main},formContainer:{padding:e.spacing(6,0,0,0)},formAlign:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",margin:e.spacing(0),padding:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red",fontSize:"1rem",marginTop:10,textAlign:"center"},progess:{position:"absolute"},footer:{backgroundColor:"#42444e",flex:"0 0 auto",marginTop:e.spacing(3),padding:e.spacing(4,2)},secondaryMain:{color:e.palette.secondary.main},secondaryLight:{color:e.palette.secondary.light},secondaryDark:{color:e.palette.secondary.dark},primaryMain:{color:e.palette.primary.main},primaryLight:{color:e.palette.primary.light},primaryDark:{color:e.palette.primary.dark},contrastText:{color:"#FFF"},lightText:{color:"#888"},lightItalicText:{color:"#888",fontStyle:"italic"},progress:{position:"absolute"},customHoverFocus:{"&:hover, &.Mui-focusVisible":{backgroundColor:"rgba(255, 255, 255, .2)"},margin:e.spacing(0,1)}}})),Z={firstName:"",lastName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",errors:[],loading:!1},_=Object(g.a)()((function(e){var t=Object(n.useState)(Z),a=Object(b.a)(t,2),i=a[0],s=a[1],r=Object(c.f)(),o=V(),l=function(e){s(Object(h.a)(Object(h.a)({},i),{},Object(m.a)({},e.target.name,e.target.value)))},d=i.errors,j=i.loading;return Object(B.jsxs)("div",{className:o.backgroundPoster,children:[Object(B.jsx)(M.a,{className:o.contentWrapper,children:Object(B.jsxs)(z.a,{component:"main",maxWidth:"md",children:[Object(B.jsx)(v.a,{}),Object(B.jsxs)("div",{className:o.paper,children:[Object(B.jsx)(u.a,{smDown:!0,children:Object(B.jsx)(z.a,{minWidth:"sm",maxWidth:"sm",className:o.primaryMain,children:Object(B.jsxs)(w.a,{item:!0,xs:!0,children:[Object(B.jsx)(M.a,{component:"img",width:300,src:O,mt:6,alt:"My realtor"}),Object(B.jsx)(M.a,{py:2,children:Object(B.jsx)(F.a,{component:"h2",variant:"h4",color:"primary",style:{fontWeight:600},children:"Save, store, distribute"})}),Object(B.jsx)(M.a,{pt:4,children:Object(B.jsx)(F.a,{component:"h2",variant:"h5",className:o.lightItalicText,children:"A no-fuss listing integration solution"})})]})})}),Object(B.jsx)(z.a,{maxWidth:"xs",className:o.formContainer,children:Object(B.jsxs)(w.a,{item:!0,xs:!0,className:o.formAlign,children:[Object(B.jsx)(u.a,{smDown:!0,children:Object(B.jsx)(f.a,{className:o.avatar,children:Object(B.jsx)(P.a,{})})}),Object(B.jsx)(u.a,{mdUp:!0,children:Object(B.jsx)(M.a,{component:"img",src:O,height:70,width:130})}),Object(B.jsx)(F.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(B.jsxs)("form",{className:o.form,noValidate:!0,children:[Object(B.jsxs)(w.a,{container:!0,spacing:2,children:[Object(B.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"firstName",helperText:d.firstName,error:!!d.firstName,onChange:l})}),Object(B.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",helperText:d.lastName,error:!!d.lastName,onChange:l})}),Object(B.jsx)(w.a,{item:!0,xs:12,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phoneNumber",label:"Phone Number",name:"phoneNumber",autoComplete:"phoneNumber",pattern:"[7-9]{1}[0-9]{9}",helperText:d.phoneNumber,error:!!d.phoneNumber,onChange:l})}),Object(B.jsx)(w.a,{item:!0,xs:12,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:d.email,error:!!d.email,onChange:l})}),Object(B.jsx)(w.a,{item:!0,xs:12,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:d.password,error:!!d.password,onChange:l})}),Object(B.jsx)(w.a,{item:!0,xs:12,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:l})})]}),Object(B.jsxs)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,onClick:function(e){e.preventDefault(),s(Object(h.a)(Object(h.a)({},i),{},{loading:!0}));var t={firstName:i.firstName,lastName:i.lastName,phoneNumber:i.phoneNumber,email:i.email,password:i.password,confirmPassword:i.confirmPassword};H.a.post("/api/signup",t).then((function(e){localStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),s(Object(h.a)(Object(h.a)({},i),{},{loading:!1})),r.push("/")})).catch((function(e){s(Object(h.a)(Object(h.a)({},i),{},{errors:e.response.data,loading:!1}))}))},disabled:j||!i.email||!i.password||!i.firstName||!i.lastName||!i.phoneNumber,children:["Sign Up",j&&Object(B.jsx)(E.a,{size:40,className:o.progess})]}),Object(B.jsx)(w.a,{container:!0,justify:"flex-end",children:Object(B.jsx)(w.a,{item:!0,children:Object(B.jsx)(C.a,{href:"login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})})]})]})}),Object(B.jsx)(M.a,{width:"100%",children:Object(B.jsx)(M.a,{className:o.footer,children:Object(B.jsx)(z.a,{children:Object(B.jsxs)(w.a,{container:!0,spacing:1,className:o.footerWrapper,children:[Object(B.jsxs)(w.a,{item:!0,xs:12,md:4,lg:4,className:o.footerColWrapper,children:[Object(B.jsx)(M.a,{component:"img",width:120,src:x,alt:"My realtor"}),Object(B.jsx)(F.a,{variant:"body2",className:o.contrastText,children:"\xa9 My realtor, Belarus"})]}),Object(B.jsxs)(w.a,{item:!0,xs:12,md:4,lg:4,className:o.footerColWrapper,children:[Object(B.jsx)(F.a,{variant:"body2",className:o.contrastText,children:"Created with \u2764\ufe0f In Belarus"}),"  ",Object(B.jsx)(F.a,{variant:"body2",className:o.contrastText,children:"for \xa9 WildCodeSchool Demo Day"}),Object(B.jsxs)(M.a,{className:o.lightText,py:1,children:[Object(B.jsx)(k.a,{color:"primary",className:o.customHoverFocus,"aria-label":"Github",children:Object(B.jsx)(S.a,{onClick:function(e){return window.location.href="https://github.com/Zalart/my-realtor"}})}),Object(B.jsx)(k.a,{color:"primary",className:o.customHoverFocus,"aria-label":"LinkedIn",children:Object(B.jsx)(A.a,{onClick:function(e){return window.location.href="https://www.linkedin.com/in/zalart/"}})}),Object(B.jsx)(k.a,{color:"primary",className:o.customHoverFocus,"aria-label":"Facebook",children:Object(B.jsx)(D.a,{onClick:function(e){return window.location.href="https://www.facebook.com/profile.php?id=100003622561803"}})})]})]}),Object(B.jsxs)(w.a,{item:!0,xs:12,md:4,lg:4,className:o.footerColWrapper,children:[Object(B.jsx)(M.a,{className:o.lightText,children:"Collaborated by:"}),Object(B.jsx)(M.a,{p:1,className:o.contrastText,children:"Artur Zalewski"}),Object(B.jsx)(M.a,{className:o.contrastText,children:"Aliaksei Fokin"})]})]})})})})]})})),J=a(52),Y=a(53),$=a(56),K=a(55),Q=a(102),X=a(47),ee=a.n(X),te=a(89),ae=a.n(te),ne=a(317),ie=a(318),se=a(319),re=a(320),oe=a(4),ce=function(e){null===localStorage.getItem("AuthToken")&&e.push("/login")},le=function(e){Object($.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).UNSAFE_componentWillMount=function(){ce(n.props.history);var e=localStorage.getItem("AuthToken");H.a.defaults.headers.common={Authorization:"".concat(e)},H.a.get("/api/user").then((function(e){console.log(e.data),n.setState({firstName:e.data.userCredentials.firstName,lastName:e.data.userCredentials.lastName,email:e.data.userCredentials.email,phoneNumber:e.data.userCredentials.phoneNumber,uiLoading:!1})})).catch((function(e){403===e.response.status&&n.props.history.push("/login"),console.log(e),n.setState({errorMsg:"Error in retrieving the data"})}))},n.handleChange=function(e){n.setState(Object(m.a)({},e.target.name,e.target.value))},n.handleImageChange=function(e){n.setState({image:e.target.files[0]})},n.profilePictureHandler=function(e){e.preventDefault(),n.setState({uiLoading:!0}),ce(n.props.history);var t=localStorage.getItem("AuthToken"),a=new FormData;a.append("image",n.state.image),a.append("content",n.state.content),H.a.defaults.headers.common={Authorization:"".concat(t)},H.a.post("/api/user/image",a,{headers:{"content-type":"multipart/form-data","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(){window.location.reload()})).catch((function(e){403===e.response.status&&n.props.history.push("/login"),console.log(e),n.setState({uiLoading:!1,imageError:"Error in posting the data"})}))},n.updateFormValues=function(e){e.preventDefault(),n.setState({buttonLoading:!0}),ce(n.props.history);var t=localStorage.getItem("AuthToken");H.a.defaults.headers.common={Authorization:"".concat(t)};var a={firstName:n.state.firstName,lastName:n.state.lastName};H.a.post("/api/user",a).then((function(){n.setState({buttonLoading:!1})})).catch((function(e){403===e.response.status&&n.props.history.push("/login"),console.log(e),n.setState({buttonLoading:!1})}))},n.state={firstName:"",lastName:"",email:"",phoneNumber:"",profilePicture:"",uiLoading:!0,buttonLoading:!1,imageError:""},n}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(Q.a)(e,["classes"]);return!0===this.state.uiLoading?Object(B.jsxs)("main",{className:t.content,children:[Object(B.jsx)("div",{className:t.toolbar}),this.state.uiLoading&&Object(B.jsx)(E.a,{className:t.uiProgess})]}):Object(B.jsxs)("main",{className:t.content,children:[Object(B.jsx)("div",{className:t.toolbar}),Object(B.jsxs)(ne.a,Object(h.a)(Object(h.a)({},a),{},{className:Object(oe.a)(t.root,t),children:[Object(B.jsxs)(ie.a,{children:[Object(B.jsx)("div",{className:t.details,children:Object(B.jsxs)("div",{children:[Object(B.jsxs)(F.a,{className:t.locationText,gutterBottom:!0,variant:"h5",children:[this.state.firstName," ",this.state.lastName]}),Object(B.jsx)(y.a,{variant:"outlined",color:"primary",type:"submit",size:"small",startIcon:Object(B.jsx)(ae.a,{}),className:t.uploadButton,onClick:this.profilePictureHandler,children:"Upload Photo"}),Object(B.jsx)("input",{type:"file",onChange:this.handleImageChange}),!!this.state.imageError&&Object(B.jsxs)("div",{className:t.customError,children:[" ","Wrong Image Format || Supported Format are PNG and JPG"]})]})}),Object(B.jsx)("div",{className:t.progress})]}),Object(B.jsx)(se.a,{})]})),Object(B.jsx)("br",{}),Object(B.jsx)(ne.a,Object(h.a)(Object(h.a)({},a),{},{className:Object(oe.a)(t.root,t),children:Object(B.jsxs)("form",{autoComplete:"off",noValidate:!0,children:[Object(B.jsx)(se.a,{}),Object(B.jsx)(ie.a,{children:Object(B.jsxs)(w.a,{container:!0,spacing:3,children:[Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsx)(N.a,{fullWidth:!0,label:"First name",margin:"dense",name:"firstName",variant:"outlined",value:this.state.firstName,onChange:this.handleChange})}),Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsx)(N.a,{fullWidth:!0,label:"Last name",margin:"dense",name:"lastName",variant:"outlined",value:this.state.lastName,onChange:this.handleChange})}),Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsx)(N.a,{fullWidth:!0,label:"Email",margin:"dense",name:"email",variant:"outlined",disabled:!0,value:this.state.email,onChange:this.handleChange})}),Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsx)(N.a,{fullWidth:!0,label:"Phone Number",margin:"dense",name:"phone",variant:"outlined",disabled:!0,value:this.state.phoneNumber,onChange:this.handleChange})})]})}),Object(B.jsx)(se.a,{}),Object(B.jsx)(re.a,{})]})})),Object(B.jsxs)(y.a,{color:"primary",variant:"contained",type:"submit",className:t.submitButton,onClick:this.updateFormValues,disabled:this.state.buttonLoading||!this.state.firstName||!this.state.lastName,children:["Save details",this.state.buttonLoading&&Object(B.jsx)(E.a,{size:30,className:t.progress})]})]})}}]),a}(n.Component),de=ee()((function(e){return{content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar,root:{},details:{display:"flex"},avatar:{height:110,width:100,flexShrink:0,flexGrow:0},locationText:{paddingLeft:"15px"},buttonProperty:{position:"absolute",top:"50%"},uiProgess:{position:"fixed",zIndex:"1000",height:"40px",width:"40px",right:"45%",top:"35%"},progess:{position:"absolute"},uploadButton:{marginLeft:"8px",margin:e.spacing(1)},customError:{color:"red",fontSize:"0.8rem",marginTop:10},submitButton:{marginTop:"10px"}}}))(le),je=a(58),me=a(103),he={center:[43.686284,21.837774],zoom:16,controls:["zoomControl","geolocationControl"],behaviors:["disable('scrollZoom')"]},be=function(e){var t=e.address,a=e.handleAddressChange,i=Object(n.useRef)(null),s=Object(n.useState)(he),r=Object(b.a)(s,2),o=r[0],c=r[1];return Object(B.jsx)(me.c,{query:{apikey:"0892d36b-db54-468d-9f18-b1e59fbb4440",lang:"en",load:"package.full",ns:"ymaps"},children:Object(B.jsx)(me.a,{state:o,onLoad:function(e){!function(e){if(t)return console.log(e),e.geocode(t).then((function(e){return c(Object(h.a)(Object(h.a)({},o),{},{center:e.geoObjects.get(0).geometry.getCoordinates()}))}));e.geolocation.get().then((function(e){console.log("found geolocation"),c(Object(h.a)(Object(h.a)({},o),{},{center:e.geoObjects.get(0).geometry.getCoordinates()}))}),(function(e){c({center:[43.686284,21.837774],zoom:16})}))}(e),i.current=e},lang:"en_US",instanceRef:i,modules:["geocode"],width:"100%",height:314,children:o.center&&Object(B.jsx)(me.b,{geometry:o.center,options:{draggable:!0,preset:"islands#orangeHomeIcon"},onDragEnd:function(e){return function(e){i.current.geocode(e.get("target").geometry.getCoordinates()).then((function(e){var t=e.geoObjects.get(0);a(t.getAddressLine())}))}(e)}})})})},pe=a(324),ue=a(168),ge=a.n(ue),xe=a(325),Oe=a(326),fe=a(121),ye=a.n(fe),ve=a(271),Ne=a(329),Ce=a(322),we=a(323),ke=a(275),Te=a(327),Se=a(270),Ie=a(269),Ae=a(273),We=a(174),De=a.n(We),Le=a(175),Pe=a.n(Le),Fe=a(331),ze=a(330),Me=a(169),Ee=a.n(Me),Ue=a(339),He=a(328),Be=a(274),qe=a(170),Re=a.n(qe),Ge=a.p+"static/media/photo.df8a499f.svg",Ve=a(171),Ze=a.n(Ve),_e=a(172),Je=a.n(_e),Ye=a(119),$e=a.n(Ye),Ke=a(160),Qe=a.n(Ke),Xe=a(120),et=a(161),tt=a.n(et),at=a(162),nt=a.n(at),it=a(163),st=a.n(it),rt=a.p+"static/media/logo-white.d9f71100.svg",ot=a(164),ct=a.n(ot),lt=a(165),dt=a.n(lt),jt=a(166),mt=a.n(jt),ht=a(167),bt=a.n(ht);a(258),a(259),a(260),a(261);Object(Xe.registerPlugin)(nt.a,mt.a,bt.a,tt.a,st.a,dt.a,ct.a);var pt=function(e){Object($.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={files:[]},n}return Object(Y.a)(a,[{key:"componentDidMount",value:function(){this.setState({files:this.props.imagesUrls.map((function(e){var t=e.replace("/","%2F");return{source:"".concat(e),options:{type:"local",metadata:{poster:"https://firebasestorage.googleapis.com/v0/b/objects-media/o/".concat(t,"?alt=media")}}}}))})}},{key:"render",value:function(){var e=this,t={markup:[["rect",{left:0,right:0,bottom:"350px",height:"300px",width:"1500px",backgroundColor:"rgba(0,0,0,.3)"}],["image",{right:"550px",bottom:"350px",width:"400px",height:"300px",src:rt,fit:"contain"}]]};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Xe.FilePond,{ref:function(t){return e.pond=t},files:this.state.files,allowMultiple:!0,allowReorder:!0,filePosterHeight:100,imagePreviewHeight:100,dropOnPage:!0,onpreparefile:function(e,t){(new Image).src=URL.createObjectURL(t)},status:function(e){return console.log(e)},allowFilePoster:!0,allowFileMetadata:!0,imageResizeTargetHeight:"1000px",imageResizeTargetWidth:"1500px",allowImageResize:!0,allowImageTransform:!0,fileMetadataObject:t,onprocessfile:function(t){e.props.handleSetImages(e.state.files)},server:{process:{url:"/api/object/".concat(this.props.objectId,"/images"),headers:{Authorization:localStorage.getItem("AuthToken")},onload:function(e){return e}},load:"https://firebasestorage.googleapis.com/v0/b/objects-media/o/"},onreorderfiles:function(t,a,n){e.setState({files:t.map((function(e){return e}))}),e.props.handleSetImages(e.state.files),console.log(e.state.files.map((function(e){return e.serverId})))},name:"files",credits:!1,onupdatefiles:function(t){e.setState({files:t.map((function(e){return e}))}),e.props.handleSetImages(e.state.files)}}),"        "]})}}]),a}(i.a.Component),ut=function(e){return{content:{flexGrow:1,padding:e.spacing(2)},toolbar:e.mixins.toolbar,title:{marginLeft:e.spacing(2),flex:1},submitButton:{"&:hover, &.Mui-focusVisible":{backgroundColor:e.palette.secondary.main},display:"block",color:"white",textAlign:"center",position:"absolute",top:e.mixins.toolbar-36,right:10,backgroundColor:e.palette.secondary.light},floatingButton:{position:"fixed",bottom:0,right:0,zIndex:1},form:{width:"90%",marginTop:e.spacing(3)},root:{minWidth:320},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12},uiProgess:{position:"fixed",zIndex:"1000",height:"40px",width:"40px",right:"45%",top:"35%"},dialogStyle:{maxWidth:"50%"},viewRoot:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},formControl:{marginLeft:e.spacing(0),minWidth:80,width:"100%"},selectEmpty:{marginTop:e.spacing(0)},cardLayout:{display:"flex",flexWrap:"wrap"},cardDetails:{display:"flex",flexDirection:"column"},cardContent:{flex:"1 0 auto",display:"flex",flexDirection:"column",justifyContent:"center"},cardMedia:{height:"200px",width:"100%",objectFit:"cover"},cardActions:{display:"flex",justifyContent:"center"},inLineIcon:{verticalAlign:"sub"},secondaryDark:{color:e.palette.secondary.dark},centeredDialog:{display:"flex",flexDirection:"column",alignItems:"center"}}},gt=i.a.forwardRef((function(e,t){return Object(B.jsx)(ve.a,Object(h.a)({direction:"up",ref:t},e))})),xt=function(e){Object($.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(m.a)({},e.target.name,e.target.value))},n.handleAddressChange=function(e){n.setState({address:e})},n.UNSAFE_componentWillMount=function(){ce(n.props.history);var e=localStorage.getItem("AuthToken");H.a.defaults.headers.common={Authorization:"".concat(e)},H.a.get("/api/objects").then((function(e){n.setState({objects:e.data,uiLoading:!1})})).catch((function(e){console.log(e)}))},n.handleImageChange=function(e){n.setState({image:e.target.files[0]})},n.objectPictureHandler=function(e){e.preventDefault(),n.setState({uiLoading:!0}),ce(n.props.history);var t=localStorage.getItem("AuthToken"),a=new FormData;a.append("image",n.state.image),a.append("content",n.state.content),H.a.defaults.headers.common={Authorization:"".concat(t)},H.a.post("/api/object/".concat(n.state.objectId,"/images"),a,{headers:{"content-type":"multipart/form-data"}}).then((function(){window.location.reload()})).catch((function(e){403===e.response.status&&n.props.history.push("/login"),console.log(e),n.setState({uiLoading:!1,imageError:"Error in posting the data"})}))},n.handleConfirmDeleteOpen=function(e){n.setState({confirmDeleteOpen:e})},n.state={objects:"",title:"",address:"",listingType:"",price:"",body:"",objectId:"",errors:[],imagesUrls:[],open:!1,uiLoading:!0,buttonType:"",viewOpen:!1,confirmDeleteOpen:!1},n.deleteObjectHandler=n.deleteObjectHandler.bind(Object(je.a)(n)),n.handleEditClickOpen=n.handleEditClickOpen.bind(Object(je.a)(n)),n.handleViewOpen=n.handleViewOpen.bind(Object(je.a)(n)),n.handleSetImages=n.handleSetImages.bind(Object(je.a)(n)),n.handleConfirmDeleteOpen=n.handleConfirmDeleteOpen.bind(Object(je.a)(n)),n}return Object(Y.a)(a,[{key:"deleteObjectHandler",value:function(e){ce(this.props.history);var t=localStorage.getItem("AuthToken");H.a.defaults.headers.common={Authorization:"".concat(t)};var a=this.state.confirmDeleteOpen;H.a.delete("/api/object/".concat(a)).then((function(){window.location.reload()})).catch((function(e){console.log(e)}))}},{key:"handleEditClickOpen",value:function(e){this.setState({title:e.object.title,address:e.object.address,body:e.object.body,listingType:e.object.listingType,price:e.object.price,area:e.object.area,bedrooms:e.object.bedrooms,floor:e.object.floor,objectId:e.object.objectId,imagesUrls:e.object.imagesUrls,buttonType:"Edit",open:!0})}},{key:"handleViewOpen",value:function(e){this.setState({title:e.object.title,address:e.object.address,body:e.object.body,listingType:e.object.listingType,price:e.object.price,area:e.object.area,bedrooms:e.object.bedrooms,floor:e.object.floor,viewOpen:!0})}},{key:"handleSetImages",value:function(e){console.log("Image data passed to state.imagesUrl"),this.setState({imagesUrls:e.map((function(e){return e.serverId}))})}},{key:"render",value:function(){var e=this,t=ee()(ut)((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(Q.a)(e,["children","classes","onClose"]);return Object(B.jsxs)(Ce.a,Object(h.a)(Object(h.a)({disableTypography:!0,className:a.root},i),{},{children:[Object(B.jsx)(F.a,{variant:"h6",children:t}),n?Object(B.jsx)(k.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(B.jsx)(ye.a,{})}):null]}))})),a=ee()((function(e){return{viewRoot:{padding:e.spacing(2)}}}))(we.a);$e.a.extend(Qe.a);var n=this.props.classes,i=this.state,s=i.open,r=i.errors,o=i.viewOpen,c=i.confirmDeleteOpen,l=function(){e.setState({viewOpen:!1})},d=function(){e.setState({confirmDeleteOpen:""})},j=function(t){e.setState({open:!1})};return!0===this.state.uiLoading?Object(B.jsxs)("main",{className:n.content,children:[Object(B.jsx)("div",{className:n.toolbar}),this.state.uiLoading&&Object(B.jsx)(E.a,{size:40,className:n.uiProgess})]}):Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("main",{className:n.content,children:[Object(B.jsx)("div",{className:n.toolbar}),Object(B.jsx)(k.a,{className:n.floatingButton,color:"secondary","aria-label":"Add Object",onClick:function(){e.setState({objectId:"",listingType:"",address:"",price:"",area:"",bedrooms:"",floor:"",title:"",body:"",buttonType:"",imagesUrls:[],open:!0})},children:Object(B.jsx)(ge.a,{style:{fontSize:60}})}),Object(B.jsx)(pe.a,{fullScreen:!0,open:s,onClose:j,TransitionComponent:gt,children:Object(B.jsxs)("div",{className:n.centeredDialog,children:[Object(B.jsx)(xe.a,{className:n.appBar,children:Object(B.jsxs)(Oe.a,{children:[Object(B.jsx)(k.a,{edge:"start",color:"inherit",onClick:j,"aria-label":"close",children:Object(B.jsx)(ye.a,{})}),Object(B.jsx)(F.a,{variant:"h6",className:n.title,children:"Edit"===this.state.buttonType?"Edit Listing":"Add a new listing"}),Object(B.jsx)(y.a,{autoFocus:!0,color:"inherit",onClick:function(t){ce(e.props.history),t.preventDefault();var a={title:e.state.title,address:e.state.address,body:e.state.body,listingType:e.state.listingType,price:e.state.price,area:e.state.area,bedrooms:e.state.bedrooms,floor:e.state.floor,imagesUrls:e.state.imagesUrls},n={};n="Edit"===e.state.buttonType?{url:"/api/object/".concat(e.state.objectId),method:"put",data:a}:{url:"/api/object",method:"post",data:a};var i=localStorage.getItem("AuthToken");H.a.defaults.headers.common={Authorization:"".concat(i)},H()(n).then((function(){e.setState({open:!1}),window.location.reload()})).catch((function(t){e.setState({open:!0,errors:t.response.data}),console.log(t)}))},className:n.submitButton,children:"Edit"===this.state.buttonType?"Save":"Submit"})]})}),Object(B.jsx)("div",{className:n.toolbar}),Object(B.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(B.jsxs)(w.a,{container:!0,spacing:4,children:[Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"objectTitle",label:"Object Title",name:"title",autoComplete:"objectTitle",helperText:r.title,value:this.state.title,error:!!r.title,onChange:this.handleChange})}),Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"address",label:"Address",name:"address",autoComplete:"address",helperText:r.address,value:this.state.address,error:!!r.address,onChange:this.handleChange})})]}),Object(B.jsxs)(w.a,{container:!0,spacing:4,direction:"row-reverse",justify:"space-between",children:[Object(B.jsx)(w.a,{container:!0,item:!0,md:6,xs:12,children:Object(B.jsx)(w.a,{item:!0,xs:12,children:Object(B.jsx)(be,{address:this.state.address,handleAddressChange:this.handleAddressChange})})}),Object(B.jsxs)(w.a,{container:!0,item:!0,md:6,xs:12,spacing:2,style:{padding:0,margin:0},children:[Object(B.jsxs)(w.a,{container:!0,item:!0,xs:12,spacing:2,style:{padding:0,width:"100%",margin:0},children:[Object(B.jsx)(w.a,{item:!0,xs:6,style:{padding:16},children:Object(B.jsxs)(Ie.a,{variant:"outlined",required:!0,className:n.formControl,children:[Object(B.jsx)(ke.a,{id:"listingType-label",children:"Listing Type"}),Object(B.jsxs)(Ae.a,{labelId:"listingType-label",id:"listingType",name:"listingType",required:!0,fullWidth:!0,value:this.state.listingType,onChange:this.handleChange,label:"Listing Type",error:!!r.listingType,children:[Object(B.jsx)(Te.a,{value:"",children:Object(B.jsx)("em",{children:"----"})}),Object(B.jsx)(Te.a,{value:"apartments",children:"Apartment"}),Object(B.jsx)(Te.a,{value:"houses",children:"House"}),Object(B.jsx)(Te.a,{value:"lots",children:"Lot"}),Object(B.jsx)(Te.a,{value:"commercial",children:"Commercial"})]}),Object(B.jsx)(Se.a,{children:r.listingType})]})}),Object(B.jsx)(w.a,{item:!0,xs:6,style:{padding:16},children:Object(B.jsxs)(Ie.a,{fullWidth:!0,variant:"outlined",required:!0,className:n.formControl,children:[Object(B.jsx)(ke.a,{htmlFor:"sprice",children:"Price"}),Object(B.jsx)(Be.a,{required:!0,fullWidth:!0,autoComplete:"price",id:"price",name:"price",type:"number",error:!!r.price,value:this.state.price,onChange:this.handleChange,startAdornment:Object(B.jsx)(He.a,{position:"start",children:"$"}),labelWidth:60}),Object(B.jsx)(Se.a,{children:r.price})]})})]}),Object(B.jsxs)(w.a,{container:!0,item:!0,xs:12,spacing:2,style:{margin:0,padding:0},children:[Object(B.jsx)(w.a,{item:!0,xs:4,style:{padding:16},children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"area",label:"Area m\xb2",name:"area",autoComplete:"area",helperText:r.area,value:this.state.area,error:!!r.area,onChange:this.handleChange})}),Object(B.jsx)(w.a,{item:!0,xs:4,style:{padding:16},children:Object(B.jsxs)(Ie.a,{variant:"outlined",className:n.formControl,children:[Object(B.jsx)(ke.a,{id:"bedrooms-label",children:"Rooms"}),Object(B.jsxs)(Ae.a,{variant:"outlined",labelId:"bedrooms-label",id:"bedrooms",label:"Rooms",name:"bedrooms",required:!0,fullWidth:!0,value:this.state.bedrooms,onChange:this.handleChange,error:!!r.bedrooms,children:[Object(B.jsx)(Te.a,{value:"",children:Object(B.jsx)("em",{children:"----"})}),Object(B.jsx)(Te.a,{value:"1",children:"1"}),Object(B.jsx)(Te.a,{value:"2",children:"2"}),Object(B.jsx)(Te.a,{value:"3",children:"3"}),Object(B.jsx)(Te.a,{value:"4",children:"4"}),Object(B.jsx)(Te.a,{value:"5",children:"5"})]}),Object(B.jsx)(Se.a,{children:r.bedrooms})]})}),Object(B.jsx)(w.a,{item:!0,xs:4,style:{padding:16},children:Object(B.jsxs)(Ie.a,{variant:"outlined",className:n.formControl,children:[Object(B.jsx)(ke.a,{id:"floor-label",children:"Floor"}),Object(B.jsxs)(Ae.a,{variant:"outlined",labelId:"floor-label",id:"floor",label:"Floor",name:"floor",required:!0,fullWidth:!0,value:this.state.floor,onChange:this.handleChange,error:!!r.floor,children:[Object(B.jsx)(Te.a,{value:"",children:Object(B.jsx)("em",{children:"----"})}),Object(B.jsx)(Te.a,{value:"1",children:"1"}),Object(B.jsx)(Te.a,{value:"2",children:"2"}),Object(B.jsx)(Te.a,{value:"3",children:"3"}),Object(B.jsx)(Te.a,{value:"4",children:"4"}),Object(B.jsx)(Te.a,{value:"5",children:"5"}),Object(B.jsx)(Te.a,{value:"6",children:"6"}),Object(B.jsx)(Te.a,{value:"7",children:"7"}),Object(B.jsx)(Te.a,{value:"8",children:"8"}),Object(B.jsx)(Te.a,{value:"9",children:"9"}),Object(B.jsx)(Te.a,{value:"10",children:"10"})]}),Object(B.jsx)(Se.a,{children:r.floor})]})})]}),Object(B.jsx)(w.a,{item:!0,xs:12,style:{padding:16},children:Object(B.jsx)(N.a,{variant:"outlined",required:!0,fullWidth:!0,id:"objectDetails",label:"Object Details",name:"body",autoComplete:"objectDetails",multiline:!0,rows:5,rowsMax:5,helperText:r.body,error:!!r.body,onChange:this.handleChange,value:this.state.body})})]})]}),Object(B.jsx)(w.a,{container:!0,spacing:4,children:this.state.objectId&&Object(B.jsx)(w.a,{item:!0,xs:12,children:Object(B.jsx)(pt,{objectId:this.state.objectId,handleSetImages:this.handleSetImages,imagesUrls:this.state.imagesUrls})})})]})]})}),Object(B.jsx)(w.a,{container:!0,spacing:4,children:this.state.objects.length?this.state.objects.map((function(i){return Object(B.jsxs)(w.a,{item:!0,md:6,xs:12,children:[Object(B.jsxs)(ne.a,{className:n.cardLayout,variant:"outlined",children:[Object(B.jsxs)(w.a,{container:!0,item:!0,xs:12,children:[Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:i.imagesUrls[0]&&i.imagesUrls.length>0?Object(B.jsx)(Ne.a,{className:n.cardMedia,image:"https://firebasestorage.googleapis.com/v0/b/objects-media/o/".concat(i.imagesUrls[0].replace("/","%2F"),"?alt=media"),title:i.title},i.imagesUrls[0]):Object(B.jsx)(Ne.a,{className:n.cardMedia,image:Ge,title:"No Photo Added"},i.objectId)}),Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsxs)(ie.a,{className:n.cardContent,children:[Object(B.jsx)(F.a,{variant:"h5",component:"h2",children:i.title}),Object(B.jsx)(F.a,{variant:"body1",component:"p",style:{textTransform:"uppercase"},children:i.listingType}),Object(B.jsxs)(F.a,{variant:"body1",component:"p",children:[Object(B.jsx)(Ee.a,{className:n.inLineIcon,fontSize:"small",color:"primary"}),"".concat(i.address)]}),Object(B.jsxs)(F.a,{variant:"body1",component:"p",children:[Object(B.jsx)(Re.a,{className:n.inLineIcon,fontSize:"small",color:"primary"}),"".concat(i.area," m\xb2 | "),Object(B.jsx)(Ze.a,{className:n.inLineIcon,fontSize:"small",color:"primary"}),"".concat(i.bedrooms," | "),Object(B.jsx)(Je.a,{className:n.inLineIcon,fontSize:"small",color:"primary"}),"".concat(i.floor)]}),Object(B.jsx)(F.a,{variant:"body2",component:"p",children:"".concat(i.body.substring(0,80)," ...")}),Object(B.jsx)(F.a,{className:n.pos,color:"textSecondary",children:$e()(i.createdAt).fromNow()})]})})]}),Object(B.jsx)(w.a,{item:!0,md:12,xs:12,children:Object(B.jsxs)(re.a,{className:n.cardActions,children:[Object(B.jsx)(Ue.a,{title:"Edit",placement:"bottom",children:Object(B.jsx)(k.a,{size:"medium",color:"primary",onClick:function(){return e.handleEditClickOpen({object:i})},"aria-label":"edit",children:Object(B.jsx)(De.a,{})})}),Object(B.jsx)(Ue.a,{title:"Delete",placement:"bottom",children:Object(B.jsx)(k.a,{size:"medium",className:n.secondaryDark,onClick:function(){return e.handleConfirmDeleteOpen(i.objectId)},"aria-label":"delete",children:Object(B.jsx)(Pe.a,{})})})]})})]}),Object(B.jsxs)(pe.a,{open:c,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(B.jsx)(t,{id:"alert-dialog-title",children:"Delete the listing?"}),Object(B.jsx)(a,{children:Object(B.jsxs)(ze.a,{id:"alert-dialog-description",children:["The listing ",i.title," wil be deleted permanently. Do you want to proceed?"]})}),Object(B.jsxs)(Fe.a,{children:[Object(B.jsx)(y.a,{onClick:d,color:"primary",children:"Cancel"}),Object(B.jsx)(y.a,{onClick:function(){return e.deleteObjectHandler()},color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]},i.objectId)})):Object(B.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(B.jsx)(ne.a,{className:n.cardLayout,variant:"outlined",children:Object(B.jsx)(ie.a,{className:n.cardContent,children:Object(B.jsx)(F.a,{variant:"body1",component:"p",children:"It's a shame! You have no listings...You should add one at least!"})})})})}),Object(B.jsx)("div",{}),Object(B.jsxs)(pe.a,{onClose:l,"aria-labelledby":"customized-dialog-title",open:o,fullWidth:!0,classes:{paperFullWidth:n.dialogStyle},children:[Object(B.jsx)(t,{id:"customized-dialog-title",onClose:l,children:this.state.title}),Object(B.jsxs)(a,{dividers:!0,children:[Object(B.jsx)(N.a,{fullWidth:!0,id:"objectDetails",name:"body",multiline:!0,readOnly:!0,rows:1,rowsMax:25,value:this.state.body,InputProps:{disableUnderline:!1}}),Object(B.jsx)(N.a,{fullWidth:!0,id:"listingType",name:"listingType",multiline:!0,readOnly:!0,rows:1,rowsMax:25,value:this.state.listingType,InputProps:{disableUnderline:!1}}),Object(B.jsx)(N.a,{fullWidth:!0,id:"price",name:"price",multiline:!0,readOnly:!0,rows:1,rowsMax:25,value:this.state.price,InputProps:{disableUnderline:!0}})]})]})]})})}}]),a}(n.Component),Ot=ee()(ut)(xt),ft=a(334),yt=a(179),vt=a.n(yt),Nt=a(312),Ct=a(272),wt=a(332),kt=a(333),Tt=a(177),St=a.n(Tt),It=a(176),At=a.n(It),Wt=a(178),Dt=a.n(Wt),Lt=a(180),Pt=a.n(Lt),Ft=function(e){Object($.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={render:!1},n.loadAccountPage=function(e){n.handleDrawerClose(),n.setState({render:!0})},n.loadListingsPage=function(e){n.handleDrawerClose(),n.setState({render:!1})},n.logoutHandler=function(e){localStorage.removeItem("AuthToken"),n.props.history.push("/login")},n.handleDrawerOpen=function(){n.setState({mobileOpen:!0})},n.handleDrawerClose=function(){n.setState({mobileOpen:!1})},n.UNSAFE_componentWillMount=function(){ce(n.props.history);var e=localStorage.getItem("AuthToken");H.a.defaults.headers.common={Authorization:"".concat(e)},H.a.get("/api/user").then((function(e){console.log(e.data),n.setState({firstName:e.data.userCredentials.firstName,lastName:e.data.userCredentials.lastName,email:e.data.userCredentials.email,phoneNumber:e.data.userCredentials.phoneNumber,uiLoading:!1,profilePicture:e.data.userCredentials.imageUrl})})).catch((function(e){403===e.response.status&&n.props.history.push("/login"),console.log(e),n.setState({errorMsg:"Error in retrieving the data"})}))},n.state={firstName:"",lastName:"",profilePicture:"",uiLoading:!0,imageLoading:!1,mobileOpen:!1},n}return Object(Y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.window;if(!0===this.state.uiLoading)return Object(B.jsx)("div",{className:t.root,children:this.state.uiLoading&&Object(B.jsx)(E.a,{className:t.uiProgess})});var n=Object(B.jsxs)("div",{children:[Object(B.jsx)(se.a,{}),Object(B.jsxs)("center",{children:[Object(B.jsx)(f.a,{src:"https://firebasestorage.googleapis.com/v0/b/realtors-profiles/o/".concat(this.state.profilePicture,"?alt=media"),className:t.avatar}),Object(B.jsxs)("p",{children:[" ",this.state.firstName," ",this.state.lastName]})]}),Object(B.jsx)(se.a,{}),Object(B.jsxs)(Nt.a,{children:[Object(B.jsxs)(Ct.a,{button:!0,onClick:this.loadListingsPage,children:[Object(B.jsxs)(wt.a,{children:[" ",Object(B.jsx)(At.a,{})," "]}),Object(B.jsx)(kt.a,{primary:"Listings"})]},"Listings"),Object(B.jsxs)(Ct.a,{button:!0,onClick:this.loadAccountPage,children:[Object(B.jsxs)(wt.a,{children:[" ",Object(B.jsx)(St.a,{})," "]}),Object(B.jsx)(kt.a,{primary:"Account"})]},"Account"),Object(B.jsxs)(Ct.a,{button:!0,onClick:this.logoutHandler,children:[Object(B.jsxs)(wt.a,{children:[" ",Object(B.jsx)(Dt.a,{})," "]}),Object(B.jsx)(kt.a,{primary:"Logout"})]},"Logout")]})]}),i=void 0!==a?function(){return a().document.body}:void 0;return Object(B.jsxs)("div",{className:t.root,children:[Object(B.jsx)(v.a,{}),Object(B.jsx)(xe.a,{position:"fixed",className:t.appBar,children:Object(B.jsxs)(Oe.a,{children:[Object(B.jsx)(k.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:this.handleDrawerOpen,className:t.menuButton,children:Object(B.jsx)(vt.a,{})}),Object(B.jsx)(F.a,{variant:"h6",noWrap:!0,children:"My realtor"})]})}),Object(B.jsxs)("nav",{className:t.drawer,"aria-label":"mailbox folders",children:[Object(B.jsx)(u.a,{smUp:!0,implementation:"css",children:Object(B.jsxs)(ft.a,{container:i,variant:"temporary",anchor:"left",open:this.state.mobileOpen,onClose:this.handleDrawerClose,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:["        ",Object(B.jsx)("div",{className:t.drawerHeader,children:Object(B.jsx)(k.a,{onClick:this.handleDrawerClose,children:Object(B.jsx)(Pt.a,{})})}),n]})}),Object(B.jsx)(u.a,{xsDown:!0,implementation:"css",children:Object(B.jsxs)(ft.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0,children:[Object(B.jsx)("div",{className:t.toolbar}),n]})})]}),this.state.render?Object(B.jsx)(de,{}):Object(B.jsx)(Ot,{})]})}}]),a}(n.Component),zt=ee()((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},menuButton:Object(m.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),drawer:Object(m.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},toolbar:e.mixins.toolbar,drawerContainer:{overflow:"auto"},drawerHeader:Object(h.a)(Object(h.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},avatar:{height:100,width:100,flexShrink:0,flexGrow:0,marginTop:20},uiProgess:{position:"fixed",zIndex:"1000",height:"40px",width:"40px",right:"45%",top:"35%"}}}))(Ft),Mt=j()({palette:{primary:{light:"#63ccff",main:"#039be5",dark:"#006db3",contrastText:"#fff"},secondary:{light:"#ff844c",main:"#f4511e",dark:"#b91400",contrastText:"#fff"}}});var Et=function(){return Object(B.jsx)(l.a,{theme:Mt,children:Object(B.jsx)(o.a,{children:Object(B.jsxs)(c.c,{children:[Object(B.jsx)(c.a,{exact:!0,path:"/login",component:G}),Object(B.jsx)(c.a,{exact:!0,path:"/signup",component:_}),Object(B.jsx)(c.a,{exact:!0,path:"/",component:zt})]})})})};r.a.render(Object(B.jsx)(Et,{}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.2640ba4b.chunk.js.map