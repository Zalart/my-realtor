(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{231:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(11),r=a.n(i),o=a(146),l=a(13),c=a(37),d=a(27),h=a(28),j=a(31),u=a(30),b=a(294),m=a(272),p=a(265),g=a(295),x=a(275),O=a(274),f=a(83),v=a.n(f),y=a(56),C=a(25),N=a.n(C),w=a(263),S=a(273),T=a(12),I=a.n(T),k=a(2),A=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(c.a)({},e.target.name,e.target.value))},s.handleSubmit=function(e){e.preventDefault(),s.setState({loading:!0});var t={email:s.state.email,password:s.state.password};I.a.post("/api/login",t).then((function(e){localStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),s.setState({loading:!1}),s.props.history.push("/")})).catch((function(e){s.setState({errors:e.response.data,loading:!1})}))},s.state={email:"",password:"",errors:[],loading:!1},s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.errors,s=t.loading;return Object(k.jsxs)(w.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(p.a,{}),Object(k.jsxs)("div",{className:e.paper,children:[Object(k.jsx)(b.a,{className:e.avatar,children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(y.a,{component:"h1",variant:"h5",children:"Login"}),Object(k.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(k.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",type:"email",autoFocus:!0,helperText:a.email,error:!!a.email,onChange:this.handleChange}),Object(k.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:a.password,error:!!a.password,onChange:this.handleChange}),Object(k.jsxs)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this.handleSubmit,disabled:s||!this.state.email||this.state.password.length<6,children:["Sign In",s&&Object(k.jsx)(S.a,{size:30,className:e.progess})]}),Object(k.jsx)(O.a,{container:!0,children:Object(k.jsx)(O.a,{item:!0,children:Object(k.jsx)(x.a,{href:"signup",variant:"body2",children:"Don't have an account? Sign Up"})})}),a.general&&Object(k.jsx)(y.a,{variant:"body2",className:e.customError,children:a.general})]})]})]})}}]),a}(s.Component),L=N()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red",fontSize:"1rem",marginTop:10,textAlign:"center"},progess:{position:"absolute"}}}))(A),P=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(c.a)({},e.target.name,e.target.value))},s.handleSubmit=function(e){e.preventDefault(),s.setState({loading:!0});var t={firstName:s.state.firstName,lastName:s.state.lastName,phoneNumber:s.state.phoneNumber,email:s.state.email,password:s.state.password,confirmPassword:s.state.confirmPassword};I.a.post("/api/signup",t).then((function(e){localStorage.setItem("AuthToken","Bearer ".concat(e.data.token)),s.setState({loading:!1}),s.props.history.push("/")})).catch((function(e){s.setState({errors:e.response.data,loading:!1})}))},s.state={firstName:"",lastName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",errors:[],loading:!1},s}return Object(h.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.errors,s=t.loading;return Object(k.jsxs)(w.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(p.a,{}),Object(k.jsxs)("div",{className:e.paper,children:[Object(k.jsx)(b.a,{className:e.avatar,children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(k.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(k.jsxs)(O.a,{container:!0,spacing:2,children:[Object(k.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"firstName",helperText:a.firstName,error:!!a.firstName,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",helperText:a.lastName,error:!!a.lastName,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,xs:12,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"phoneNumber",label:"Phone Number",name:"phoneNumber",autoComplete:"phoneNumber",pattern:"[7-9]{1}[0-9]{9}",helperText:a.phoneNumber,error:!!a.phoneNumber,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,xs:12,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:a.email,error:!!a.email,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,xs:12,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:a.password,error:!!a.password,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,xs:12,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:this.handleChange})})]}),Object(k.jsxs)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this.handleSubmit,disabled:s||!this.state.email||!this.state.password||!this.state.firstName||!this.state.lastName||!this.state.phoneNumber,children:["Sign Up",s&&Object(k.jsx)(S.a,{size:30,className:e.progess})]}),Object(k.jsx)(O.a,{container:!0,justify:"flex-end",children:Object(k.jsx)(O.a,{item:!0,children:Object(k.jsx)(x.a,{href:"login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}}]),a}(s.Component),W=N()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},progess:{position:"absolute"}}}))(P),z=a(23),E=a(87),D=a(77),U=a.n(D),B=a(276),F=a(277),q=a(278),M=a(279),H=a(4),R=function(e){null===localStorage.getItem("AuthToken")&&e.push("/login")},V=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).componentWillMount=function(){R(s.props.history);var e=localStorage.getItem("AuthToken");I.a.defaults.headers.common={Authorization:"".concat(e)},I.a.get("/api/user").then((function(e){console.log(e.data),s.setState({firstName:e.data.userCredentials.firstName,lastName:e.data.userCredentials.lastName,email:e.data.userCredentials.email,phoneNumber:e.data.userCredentials.phoneNumber,uiLoading:!1})})).catch((function(e){403===e.response.status&&s.props.history.push("/login"),console.log(e),s.setState({errorMsg:"Error in retrieving the data"})}))},s.handleChange=function(e){s.setState(Object(c.a)({},e.target.name,e.target.value))},s.handleImageChange=function(e){s.setState({image:e.target.files[0]})},s.profilePictureHandler=function(e){e.preventDefault(),s.setState({uiLoading:!0}),R(s.props.history);var t=localStorage.getItem("AuthToken"),a=new FormData;a.append("image",s.state.image),a.append("content",s.state.content),I.a.defaults.headers.common={Authorization:"".concat(t)},I.a.post("/api/user/image",a,{headers:{"content-type":"multipart/form-data","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}).then((function(){window.location.reload()})).catch((function(e){403===e.response.status&&s.props.history.push("/login"),console.log(e),s.setState({uiLoading:!1,imageError:"Error in posting the data"})}))},s.updateFormValues=function(e){e.preventDefault(),s.setState({buttonLoading:!0}),R(s.props.history);var t=localStorage.getItem("AuthToken");I.a.defaults.headers.common={Authorization:"".concat(t)};var a={firstName:s.state.firstName,lastName:s.state.lastName};I.a.post("/api/user",a).then((function(){s.setState({buttonLoading:!1})})).catch((function(e){403===e.response.status&&s.props.history.push("/login"),console.log(e),s.setState({buttonLoading:!1})}))},s.state={firstName:"",lastName:"",email:"",phoneNumber:"",profilePicture:"",uiLoading:!0,buttonLoading:!1,imageError:""},s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(E.a)(e,["classes"]);return!0===this.state.uiLoading?Object(k.jsxs)("main",{className:t.content,children:[Object(k.jsx)("div",{className:t.toolbar}),this.state.uiLoading&&Object(k.jsx)(S.a,{size:150,className:t.uiProgess})]}):Object(k.jsxs)("main",{className:t.content,children:[Object(k.jsx)("div",{className:t.toolbar}),Object(k.jsxs)(B.a,Object(z.a)(Object(z.a)({},a),{},{className:Object(H.a)(t.root,t),children:[Object(k.jsxs)(F.a,{children:[Object(k.jsx)("div",{className:t.details,children:Object(k.jsxs)("div",{children:[Object(k.jsxs)(y.a,{className:t.locationText,gutterBottom:!0,variant:"h4",children:[this.state.firstName," ",this.state.lastName]}),Object(k.jsx)(m.a,{variant:"outlined",color:"primary",type:"submit",size:"small",startIcon:Object(k.jsx)(U.a,{}),className:t.uploadButton,onClick:this.profilePictureHandler,children:"Upload Photo"}),Object(k.jsx)("input",{type:"file",onChange:this.handleImageChange}),!!this.state.imageError&&Object(k.jsxs)("div",{className:t.customError,children:[" ","Wrong Image Format || Supported Format are PNG and JPG"]})]})}),Object(k.jsx)("div",{className:t.progress})]}),Object(k.jsx)(q.a,{})]})),Object(k.jsx)("br",{}),Object(k.jsx)(B.a,Object(z.a)(Object(z.a)({},a),{},{className:Object(H.a)(t.root,t),children:Object(k.jsxs)("form",{autoComplete:"off",noValidate:!0,children:[Object(k.jsx)(q.a,{}),Object(k.jsx)(F.a,{children:Object(k.jsxs)(O.a,{container:!0,spacing:3,children:[Object(k.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(k.jsx)(g.a,{fullWidth:!0,label:"First name",margin:"dense",name:"firstName",variant:"outlined",value:this.state.firstName,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(k.jsx)(g.a,{fullWidth:!0,label:"Last name",margin:"dense",name:"lastName",variant:"outlined",value:this.state.lastName,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(k.jsx)(g.a,{fullWidth:!0,label:"Email",margin:"dense",name:"email",variant:"outlined",disabled:!0,value:this.state.email,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(k.jsx)(g.a,{fullWidth:!0,label:"Phone Number",margin:"dense",name:"phone",variant:"outlined",disabled:!0,value:this.state.phoneNumber,onChange:this.handleChange})})]})}),Object(k.jsx)(q.a,{}),Object(k.jsx)(M.a,{})]})})),Object(k.jsxs)(m.a,{color:"primary",variant:"contained",type:"submit",className:t.submitButton,onClick:this.updateFormValues,disabled:this.state.buttonLoading||!this.state.firstName||!this.state.lastName,children:["Save details",this.state.buttonLoading&&Object(k.jsx)(S.a,{size:30,className:t.progess})]})]})}}]),a}(s.Component),G=N()((function(e){return{content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar,root:{},details:{display:"flex"},avatar:{height:110,width:100,flexShrink:0,flexGrow:0},locationText:{paddingLeft:"15px"},buttonProperty:{position:"absolute",top:"50%"},uiProgess:{position:"fixed",zIndex:"1000",height:"31px",width:"31px",left:"50%",top:"35%"},progess:{position:"absolute"},uploadButton:{marginLeft:"8px",margin:e.spacing(1)},customError:{color:"red",fontSize:"0.8rem",marginTop:10},submitButton:{marginTop:"10px"}}}))(V),J=a(54),Y=a(147),Z=a(88),_={center:[43.686284,21.837774],zoom:16,controls:[],behaviors:["disable('scrollZoom')"]},K=function(e){var t=e.address,a=e.handleAddressChange,n=Object(s.useRef)(null),i=Object(s.useState)(_),r=Object(Y.a)(i,2),o=r[0],l=r[1];return Object(k.jsx)(Z.c,{query:{apikey:"0892d36b-db54-468d-9f18-b1e59fbb4440",lang:"en",load:"package.full",ns:"ymaps"},children:Object(k.jsx)(Z.a,{state:o,onLoad:function(e){!function(e){if(t)return e.geocode(t).then((function(e){return l(Object(z.a)(Object(z.a)({},o),{},{center:e.geoObjects.get(0).geometry.getCoordinates()}))}));e.geolocation.get().then((function(e){console.log("found geolocation"),l(Object(z.a)(Object(z.a)({},o),{},{center:e.geoObjects.get(0).geometry.getCoordinates()}))}),(function(e){l({center:[43.686284,21.837774],zoom:16})}))}(e),n.current=e},lang:"en_US",instanceRef:n,modules:["geocode"],width:"100%",height:300,children:o.center&&Object(k.jsx)(Z.b,{geometry:o.center,options:{draggable:!0},onDragEnd:function(e){return function(e){n.current.geocode(e.get("target").geometry.getCoordinates()).then((function(e){var t=e.geoObjects.get(0);a(t.getAddressLine())}))}(e)}})})})},Q=a(283),X=a(137),$=a.n(X),ee=a(284),te=a(285),ae=a(281),se=a(100),ne=a.n(se),ie=a(236),re=a(287),oe=a(280),le=a(282),ce=a(296),de=a(286),he=a(268),je=a(293),ue=a(141),be=a.n(ue),me=a(142),pe=a.n(me),ge=a(140),xe=a.n(ge),Oe=a(289),fe=a(288),ve=a(138),ye=a.n(ve),Ce=a(297),Ne=a(98),we=a.n(Ne),Se=a(133),Te=a.n(Se),Ie=a(99),ke=a(134),Ae=a.n(ke),Le=a(135),Pe=a.n(Le),We=a(136),ze=a.n(We);a(225),a(226),a(227);Object(Ie.registerPlugin)(Pe.a,Ae.a,ze.a);var Ee=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={files:[]},s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({files:this.props.imagesUrls.map((function(e){var t=e.replace("/","%2F");return{source:"".concat(e),options:{type:"local",metadata:{poster:"https://firebasestorage.googleapis.com/v0/b/objects-media/o/".concat(t,"?alt=media")}}}}))})}},{key:"render",value:function(){var e=this;return console.log(this.state.files),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Ie.FilePond,{ref:function(t){return e.pond=t},files:this.state.files,allowMultiple:!0,allowReorder:!0,dropOnPage:!0,status:function(e){return console.log(e)},allowFilePoster:!0,onprocessfile:function(t){e.props.handleSetImages(e.state.files)},server:{process:{url:"/api/object/".concat(this.props.objectId,"/images"),headers:{Authorization:localStorage.getItem("AuthToken")},onload:function(e){return e}},load:"https://firebasestorage.googleapis.com/v0/b/objects-media/o/"},onreorderfiles:function(t,a,s){console.log("files were reordered"),e.setState({files:t.map((function(e){return e}))}),e.props.handleSetImages(e.state.files),console.log(e.state.files.map((function(e){return e.serverId})))},name:"files",credits:!1,onupdatefiles:function(t){e.setState({files:t.map((function(e){return e}))}),e.props.handleSetImages(e.state.files)}}),"        "]})}}]),a}(n.a.Component),De=function(e){return{content:{flexGrow:1,padding:e.spacing(2)},toolbar:e.mixins.toolbar,title:{marginLeft:e.spacing(2),flex:1},submitButton:{display:"block",color:"white",textAlign:"center",position:"absolute",top:14,right:10},floatingButton:{position:"fixed",bottom:0,right:0,zIndex:1},form:{width:"98%",marginLeft:12,marginTop:e.spacing(10)},root:{minWidth:350},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12},uiProgess:{position:"fixed",zIndex:"1000",height:"31px",width:"31px",left:"50%",top:"35%"},dialogeStyle:{maxWidth:"50%"},viewRoot:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},formControl:{marginLeft:e.spacing(0),minWidth:150,width:"100%"},formControlRev:{marginLeft:e.spacing(-2),minWidth:150,width:"100%"},selectEmpty:{marginTop:e.spacing(0)},cardLayout:{display:"flex",flexWrap:"wrap"},cardDetails:{display:"flex",flexDirection:"column"},cardContent:{flex:"1 0 auto",display:"flex",flexDirection:"column",justifyContent:"center"},cardMedia:{height:160,width:230,paddingLeft:0},cardActionsContainer:{display:"flex",justifyContent:"flex-end",flex:"1 0 auto"},cardActions:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:8},inLineIcon:{verticalAlign:"sub"}}},Ue=n.a.forwardRef((function(e,t){return Object(k.jsx)(ie.a,Object(z.a)({direction:"up",ref:t},e))})),Be=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(c.a)({},e.target.name,e.target.value))},s.handleAddressChange=function(e){s.setState({address:e})},s.componentWillMount=function(){R(s.props.history);var e=localStorage.getItem("AuthToken");I.a.defaults.headers.common={Authorization:"".concat(e)},I.a.get("/api/objects").then((function(e){s.setState({objects:e.data,uiLoading:!1})})).catch((function(e){console.log(e)}))},s.handleImageChange=function(e){s.setState({image:e.target.files[0]})},s.objectPictureHandler=function(e){e.preventDefault(),s.setState({uiLoading:!0}),R(s.props.history);var t=localStorage.getItem("AuthToken"),a=new FormData;a.append("image",s.state.image),a.append("content",s.state.content),I.a.defaults.headers.common={Authorization:"".concat(t)},I.a.post("/api/object/".concat(s.state.objectId,"/images"),a,{headers:{"content-type":"multipart/form-data"}}).then((function(){window.location.reload()})).catch((function(e){403===e.response.status&&s.props.history.push("/login"),console.log(e),s.setState({uiLoading:!1,imageError:"Error in posting the data"})}))},s.state={objects:"",title:"",address:"",listingType:"",price:"",body:"",objectId:"",errors:[],imagesUrls:[],open:!1,uiLoading:!0,buttonType:"",viewOpen:!1,confirmDeleteOpen:!1},s.deleteObjectHandler=s.deleteObjectHandler.bind(Object(J.a)(s)),s.handleEditClickOpen=s.handleEditClickOpen.bind(Object(J.a)(s)),s.handleViewOpen=s.handleViewOpen.bind(Object(J.a)(s)),s.handleSetImages=s.handleSetImages.bind(Object(J.a)(s)),s}return Object(h.a)(a,[{key:"deleteObjectHandler",value:function(e){R(this.props.history);var t=localStorage.getItem("AuthToken");I.a.defaults.headers.common={Authorization:"".concat(t)};var a=e.object.objectId;I.a.delete("/api/object/".concat(a)).then((function(){window.location.reload()})).catch((function(e){console.log(e)}))}},{key:"handleEditClickOpen",value:function(e){this.setState({title:e.object.title,address:e.object.address,body:e.object.body,listingType:e.object.listingType,price:e.object.price,area:e.object.area,bedrooms:e.object.bedrooms,floor:e.object.floor,objectId:e.object.objectId,imagesUrls:e.object.imagesUrls,buttonType:"Edit",open:!0})}},{key:"handleViewOpen",value:function(e){this.setState({title:e.object.title,address:e.object.address,body:e.object.body,listingType:e.object.listingType,price:e.object.price,area:e.object.area,bedrooms:e.object.bedrooms,floor:e.object.floor,viewOpen:!0})}},{key:"handleSetImages",value:function(e){console.log("Image data passed to state.imagesUrl"),this.setState({imagesUrls:e.map((function(e){return e.serverId}))})}},{key:"render",value:function(){var e=this,t=N()(De)((function(e){var t=e.children,a=e.classes,s=e.onClose,n=Object(E.a)(e,["children","classes","onClose"]);return Object(k.jsxs)(oe.a,Object(z.a)(Object(z.a)({disableTypography:!0,className:a.root},n),{},{children:[Object(k.jsx)(y.a,{variant:"h6",children:t}),s?Object(k.jsx)(ae.a,{"aria-label":"close",className:a.closeButton,onClick:s,children:Object(k.jsx)(ne.a,{})}):null]}))})),a=N()((function(e){return{viewRoot:{padding:e.spacing(2)}}}))(le.a);we.a.extend(Te.a);var s=this.props.classes,n=this.state,i=n.open,r=n.errors,o=n.viewOpen,l=n.confirmDeleteOpen,c=function(){e.setState({confirmDeleteOpen:!0})},d=function(){e.setState({viewOpen:!1})},h=function(t){e.setState({confirmDeleteOpen:!1})},j=function(t){e.setState({open:!1})};return!0===this.state.uiLoading?Object(k.jsxs)("main",{className:s.content,children:[Object(k.jsx)("div",{className:s.toolbar}),this.state.uiLoading&&Object(k.jsx)(S.a,{size:150,className:s.uiProgess})]}):Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("main",{className:s.content,children:[Object(k.jsx)("div",{className:s.toolbar}),Object(k.jsx)(ae.a,{className:s.floatingButton,color:"primary","aria-label":"Add Object",onClick:function(){e.setState({objectId:"",listingType:"",address:"",price:"",area:"",bedrooms:"",floor:"",title:"",body:"",buttonType:"",imagesUrls:[],open:!0})},children:Object(k.jsx)($.a,{style:{fontSize:60}})}),Object(k.jsxs)(Q.a,{fullScreen:!0,open:i,onClose:j,TransitionComponent:Ue,children:[Object(k.jsx)(ee.a,{className:s.appBar,children:Object(k.jsxs)(te.a,{children:[Object(k.jsx)(ae.a,{edge:"start",color:"inherit",onClick:j,"aria-label":"close",children:Object(k.jsx)(ne.a,{})}),Object(k.jsx)(y.a,{variant:"h6",className:s.title,children:"Edit"===this.state.buttonType?"Edit Listing":"Add a new listing"}),Object(k.jsx)(m.a,{autoFocus:!0,color:"inherit",onClick:function(t){R(e.props.history),t.preventDefault();var a={title:e.state.title,address:e.state.address,body:e.state.body,listingType:e.state.listingType,price:e.state.price,area:e.state.area,bedrooms:e.state.bedrooms,floor:e.state.floor,imagesUrls:e.state.imagesUrls},s={};s="Edit"===e.state.buttonType?{url:"/api/object/".concat(e.state.objectId),method:"put",data:a}:{url:"/api/object",method:"post",data:a};var n=localStorage.getItem("AuthToken");I.a.defaults.headers.common={Authorization:"".concat(n)},I()(s).then((function(){e.setState({open:!1}),window.location.reload()})).catch((function(t){e.setState({open:!0,errors:t.response.data}),console.log(t)}))},className:s.submitButton,children:"Edit"===this.state.buttonType?"Save":"Submit"})]})}),Object(k.jsxs)("form",{className:s.form,noValidate:!0,children:[Object(k.jsxs)(O.a,{container:!0,spacing:4,children:[Object(k.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"objectTitle",label:"Object Title",name:"title",autoComplete:"objectTitle",helperText:r.title,value:this.state.title,error:!!r.title,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,md:6,xs:12,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"address",label:"Address",name:"address",autoComplete:"address",helperText:r.address,value:this.state.address,error:!!r.address,onChange:this.handleChange})})]}),Object(k.jsxs)(O.a,{container:!0,spacing:4,direction:"row-reverse",children:[Object(k.jsx)(O.a,{container:!0,item:!0,md:6,xs:12,spacing:0,children:Object(k.jsx)(O.a,{item:!0,xs:12,children:Object(k.jsx)(K,{address:this.state.address,handleAddressChange:this.handleAddressChange})})}),Object(k.jsxs)(O.a,{container:!0,item:!0,md:6,xs:12,spacing:2,children:[Object(k.jsxs)(O.a,{container:!0,item:!0,xs:12,spacing:0,children:[Object(k.jsx)(O.a,{item:!0,xs:6,children:Object(k.jsxs)(he.a,{variant:"outlined",required:!0,className:s.formControlRev,children:[Object(k.jsx)(ce.a,{id:"listingType-label",children:"Listing Type"}),Object(k.jsxs)(je.a,{labelId:"listingType-label",id:"listingType",name:"listingType",required:!0,fullWidth:!0,value:this.state.listingType,onChange:this.handleChange,label:"Listing Type",helperText:r.listingType,error:!!r.listingType,children:[Object(k.jsx)(de.a,{value:"",children:Object(k.jsx)("em",{children:"----"})}),Object(k.jsx)(de.a,{value:"apartments",children:"Apartment"}),Object(k.jsx)(de.a,{value:"houses",children:"House"}),Object(k.jsx)(de.a,{value:"lots",children:"Lot"}),Object(k.jsx)(de.a,{value:"commercial",children:"Commercial"})]})]})}),Object(k.jsx)(O.a,{item:!0,xs:6,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",autoComplete:"price",helperText:r.price,value:this.state.price,error:!!r.price,onChange:this.handleChange})})]}),Object(k.jsxs)(O.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(k.jsx)(O.a,{item:!0,xs:4,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"area",label:"Area m\xb2",name:"area",autoComplete:"area",helperText:r.area,value:this.state.area,error:!!r.area,onChange:this.handleChange})}),Object(k.jsx)(O.a,{item:!0,xs:4,children:Object(k.jsxs)(he.a,{variant:"outlined",className:s.formControl,children:[Object(k.jsx)(ce.a,{id:"bedrooms-label",children:"Bedrooms"}),Object(k.jsxs)(je.a,{variant:"outlined",labelId:"bedrooms-label",id:"bedrooms",label:"Bedrooms",name:"bedrooms",required:!0,fullWidth:!0,value:this.state.bedrooms,onChange:this.handleChange,helperText:r.bedrooms,error:!!r.bedrooms,children:[Object(k.jsx)(de.a,{value:"",children:Object(k.jsx)("em",{children:"----"})}),Object(k.jsx)(de.a,{value:"1",children:"1"}),Object(k.jsx)(de.a,{value:"2",children:"2"}),Object(k.jsx)(de.a,{value:"3",children:"3"}),Object(k.jsx)(de.a,{value:"4",children:"4"}),Object(k.jsx)(de.a,{value:"5",children:"5"})]})]})}),Object(k.jsx)(O.a,{item:!0,xs:4,children:Object(k.jsxs)(he.a,{variant:"outlined",className:s.formControl,children:[Object(k.jsx)(ce.a,{id:"floor-label",children:"Floor"}),Object(k.jsxs)(je.a,{variant:"outlined",labelId:"floor-label",id:"floor",label:"Floor",name:"floor",required:!0,fullWidth:!0,value:this.state.floor,onChange:this.handleChange,helperText:r.floor,error:!!r.floor,children:[Object(k.jsx)(de.a,{value:"",children:Object(k.jsx)("em",{children:"----"})}),Object(k.jsx)(de.a,{value:"1",children:"1"}),Object(k.jsx)(de.a,{value:"2",children:"2"}),Object(k.jsx)(de.a,{value:"3",children:"3"}),Object(k.jsx)(de.a,{value:"4",children:"4"}),Object(k.jsx)(de.a,{value:"5",children:"5"}),Object(k.jsx)(de.a,{value:"6",children:"6"}),Object(k.jsx)(de.a,{value:"7",children:"7"}),Object(k.jsx)(de.a,{value:"8",children:"8"}),Object(k.jsx)(de.a,{value:"9",children:"9"}),Object(k.jsx)(de.a,{value:"10",children:"10"})]})]})}),Object(k.jsx)(O.a,{item:!0,xs:12,children:Object(k.jsx)(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"objectDetails",label:"Object Details",name:"body",autoComplete:"objectDetails",multiline:!0,rows:5,rowsMax:5,helperText:r.body,error:!!r.body,onChange:this.handleChange,value:this.state.body})})]})]})]}),Object(k.jsx)(O.a,{container:!0,spacing:4,children:Object(k.jsx)(O.a,{item:!0,xs:12,children:Object(k.jsx)(Ee,{objectId:this.state.objectId,handleSetImages:this.handleSetImages,imagesUrls:this.state.imagesUrls})})})]})]}),Object(k.jsx)(O.a,{container:!0,spacing:4,children:this.state.objects.length?this.state.objects.map((function(n){return Object(k.jsxs)(O.a,{item:!0,xs:12,children:[Object(k.jsxs)(B.a,{className:s.cardLayout,variant:"outlined",children:[n.imagesUrls.length>0?Object(k.jsx)(re.a,{className:s.cardMedia,image:"https://firebasestorage.googleapis.com/v0/b/objects-media/o/".concat(n.imagesUrls[0].replace("/","%2F"),"?alt=media"),title:n.title},n.imagesUrls[0]):null,Object(k.jsx)("div",{className:s.cardDetails,children:Object(k.jsxs)(F.a,{className:s.cardContent,children:[Object(k.jsx)(y.a,{variant:"h5",component:"h2",children:n.title}),Object(k.jsxs)(y.a,{variant:"body1",component:"p",children:[Object(k.jsx)(ye.a,{className:s.inLineIcon,fontSize:"small",color:"primary"}),"".concat(n.address)]}),Object(k.jsx)(y.a,{variant:"body2",component:"p",children:"".concat(n.body.substring(0,65))}),Object(k.jsx)(y.a,{className:s.pos,color:"textSecondary",children:we()(n.createdAt).fromNow()})]})}),Object(k.jsx)("div",{className:s.cardActionsContainer,children:Object(k.jsxs)(M.a,{className:s.cardActions,children:[Object(k.jsx)(Ce.a,{title:"View",placement:"left",children:Object(k.jsx)(ae.a,{size:"large",color:"primary",onClick:function(){return e.handleViewOpen({object:n})},"aria-label":"view",children:Object(k.jsx)(xe.a,{})})}),Object(k.jsx)(Ce.a,{title:"Edit",placement:"left",children:Object(k.jsx)(ae.a,{size:"large",color:"primary",onClick:function(){return e.handleEditClickOpen({object:n})},"aria-label":"edit",children:Object(k.jsx)(be.a,{})})}),Object(k.jsx)(Ce.a,{title:"Delete",placement:"left",children:Object(k.jsx)(ae.a,{size:"large",color:"secondary",onClick:c,"aria-label":"delete",children:Object(k.jsx)(pe.a,{})})})]})})]}),Object(k.jsxs)(Q.a,{open:l,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(k.jsx)(t,{id:"alert-dialog-title",children:"Delete the listing?"}),Object(k.jsx)(a,{children:Object(k.jsx)(fe.a,{id:"alert-dialog-description",children:"The listing wil be deleted permanently. Do you want to proceed?"})}),Object(k.jsxs)(Oe.a,{children:[Object(k.jsx)(m.a,{onClick:h,color:"primary",children:"Cancel"}),Object(k.jsx)(m.a,{onClick:function(){return e.deleteObjectHandler({object:n})},color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]},n.objectId)})):"No listings Yet"}),Object(k.jsx)("div",{}),Object(k.jsxs)(Q.a,{onClose:d,"aria-labelledby":"customized-dialog-title",open:o,fullWidth:!0,classes:{paperFullWidth:s.dialogeStyle},children:[Object(k.jsx)(t,{id:"customized-dialog-title",onClose:d,children:this.state.title}),Object(k.jsxs)(a,{dividers:!0,children:[Object(k.jsx)(g.a,{fullWidth:!0,id:"objectDetails",name:"body",multiline:!0,readOnly:!0,rows:1,rowsMax:25,value:this.state.body,InputProps:{disableUnderline:!1}}),Object(k.jsx)(g.a,{fullWidth:!0,id:"listingType",name:"listingType",multiline:!0,readOnly:!0,rows:1,rowsMax:25,value:this.state.listingType,InputProps:{disableUnderline:!1}}),Object(k.jsx)(g.a,{fullWidth:!0,id:"price",name:"price",multiline:!0,readOnly:!0,rows:1,rowsMax:25,value:this.state.price,InputProps:{disableUnderline:!0}})]})]})]})})}}]),a}(s.Component),Fe=N()(De)(Be),qe=a(290),Me=a(271),He=a(237),Re=a(291),Ve=a(292),Ge=a(144),Je=a.n(Ge),Ye=a(143),Ze=a.n(Ye),_e=a(145),Ke=a.n(_e),Qe=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={render:!1},s.loadAccountPage=function(e){s.setState({render:!0})},s.loadListingsPage=function(e){s.setState({render:!1})},s.logoutHandler=function(e){localStorage.removeItem("AuthToken"),s.props.history.push("/login")},s.componentWillMount=function(){R(s.props.history);var e=localStorage.getItem("AuthToken");I.a.defaults.headers.common={Authorization:"".concat(e)},I.a.get("/api/user").then((function(e){console.log(e.data),s.setState({firstName:e.data.userCredentials.firstName,lastName:e.data.userCredentials.lastName,email:e.data.userCredentials.email,phoneNumber:e.data.userCredentials.phoneNumber,uiLoading:!1,profilePicture:e.data.userCredentials.imageUrl})})).catch((function(e){403===e.response.status&&s.props.history.push("/login"),console.log(e),s.setState({errorMsg:"Error in retrieving the data"})}))},s.state={firstName:"",lastName:"",profilePicture:"",uiLoading:!0,imageLoading:!1},s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.classes;return!0===this.state.uiLoading?Object(k.jsx)("div",{className:e.root,children:this.state.uiLoading&&Object(k.jsx)(S.a,{size:150,className:e.uiProgess})}):Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(p.a,{}),Object(k.jsx)(ee.a,{position:"fixed",className:e.appBar,children:Object(k.jsx)(te.a,{children:Object(k.jsx)(y.a,{variant:"h6",noWrap:!0,children:"Realtor's Routines"})})}),Object(k.jsxs)(qe.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(k.jsx)("div",{className:e.toolbar}),Object(k.jsx)(q.a,{}),Object(k.jsxs)("center",{children:[Object(k.jsx)(b.a,{src:"https://firebasestorage.googleapis.com/v0/b/realtors-profiles/o/".concat(this.state.profilePicture,"?alt=media"),className:e.avatar}),Object(k.jsxs)("p",{children:[" ",this.state.firstName," ",this.state.lastName]})]}),Object(k.jsx)(q.a,{}),Object(k.jsxs)(Me.a,{children:[Object(k.jsxs)(He.a,{button:!0,onClick:this.loadListingsPage,children:[Object(k.jsxs)(Re.a,{children:[" ",Object(k.jsx)(Ze.a,{})," "]}),Object(k.jsx)(Ve.a,{primary:"Listings"})]},"Listings"),Object(k.jsxs)(He.a,{button:!0,onClick:this.loadAccountPage,children:[Object(k.jsxs)(Re.a,{children:[" ",Object(k.jsx)(Je.a,{})," "]}),Object(k.jsx)(Ve.a,{primary:"Account"})]},"Account"),Object(k.jsxs)(He.a,{button:!0,onClick:this.logoutHandler,children:[Object(k.jsxs)(Re.a,{children:[" ",Object(k.jsx)(Ke.a,{})," "]}),Object(k.jsx)(Ve.a,{primary:"Logout"})]},"Logout")]})]}),this.state.render?Object(k.jsx)(G,{}):Object(k.jsx)(Fe,{})]})}}]),a}(s.Component),Xe=N()((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:230,flexShrink:0},drawerPaper:{width:230},content:{flexGrow:1,padding:e.spacing(3)},avatar:{height:100,width:100,flexShrink:0,flexGrow:0,marginTop:20},uiProgess:{position:"fixed",zIndex:"1000",height:"31px",width:"31px",left:"50%",top:"35%"},toolbar:e.mixins.toolbar}}))(Qe);var $e=function(){return Object(k.jsx)(o.a,{children:Object(k.jsx)("div",{children:Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{exact:!0,path:"/login",component:L}),Object(k.jsx)(l.a,{exact:!0,path:"/signup",component:W}),Object(k.jsx)(l.a,{exact:!0,path:"/",component:Xe})]})})})};r.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)($e,{})}),document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.aeea141b.chunk.js.map